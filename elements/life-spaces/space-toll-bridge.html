<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../behaviors/has-player-behavior.html">
<link rel="import" href="../behaviors/space-behavior.html">

<dom-module id="space-toll-bridge">
  <template>
    <div id="crossing" hidden$="{{player.crossedTollBridge}}">
      <button grey on-tap="crossedTollBridge" amount="24000">crossed the toll bridge</button>
    </div>
    <div id="crossed" hidden$="{{!player.crossedTollBridge}}">
      <span text>{{player.tollBridgeText}}</span>
      <button grey on-tap="next">Next</button>
    </div>
  </template>
</dom-module>

<script>
Polymer({
  is: 'space-toll-bridge',
  behaviors: [HasPlayerBehavior, SpaceBehavior],

  crossedTollBridge: function(event) {
    this.fire('toll-bridge-crossed', {
      player: this.player,
      amount: +event.target.getAttribute('amount')
    });
  }
});
</script>