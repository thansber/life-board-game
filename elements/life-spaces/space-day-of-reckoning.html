<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../behaviors/has-player-behavior.html">
<link rel="import" href="../behaviors/space-behavior.html">
<link rel="import" href="../behaviors/transaction-behavior.html">

<dom-module id="space-day-of-reckoning">
  <template>
    <button green on-tap="dayOfReckoning" amount="48000">Day of reckoning</button>
  </template>
</dom-module>

<script>
Polymer({
  is: 'space-day-of-reckoning',
  behaviors: [HasPlayerBehavior, SpaceBehavior, TransactionBehavior],

  dayOfReckoning: function(event) {
    var amount = +event.target.getAttribute('amount');
    this.transaction(this.player, amount * (this.player.sons + this.player.daughters));
    this.next();
  }
});
</script>