<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/core-a11y-keys/core-a11y-keys.html">
<link rel="import" href="../../elements/life-player/life-player.html">
<link rel="import" href="../../elements/life-spaces/life-spaces.html">
<link rel="import" href="../../elements/life-settings/life-settings.html">

<polymer-element name="life-game" attributes="players started"
  on-select-player="{{selectPlayer}}"
  on-remove-player="{{removePlayer}}"
  on-move-up="{{moveUp}}"
  on-move-down="{{moveDown}}"
  on-everyone-pays="{{everyonePays}}"
  on-pay-day="{{payday}}"
  on-toll-bridge-crossed="{{tollBridgeCrossed}}"
  on-child-birth="{{childBirth}}"
  on-lucky-number="{{luckyNumberSpun}}"
  on-millionaire="{{becomeMillionaire}}"
  on-tycoon="{{becomeTycoon}}">
  <template>
    <link rel="stylesheet" href="life-game.css">
    <div vertical layout id="players">
      <template repeat="{{player, i in players}}">
        <life-player
          player="{{player}}"
          started="{{started}}"
          notFirst="{{i > 0}}"
          notLast="{{i != players.length - 1}}"></life-player>
      </template>
    </div>

    <life-spaces player="{{currentPlayer}}" allSpaces="{{spaces}}"></life-spaces>
    <life-settings id="settings"
      player="{{currentPlayer}}"
      revengePlayers="{{playersForRevenge}}"
      spaces="{{spaces}}"
      hidden?="{{gameOver}}"></life-settings>
    <core-a11y-keys keys="n" target="{{}}" on-keys-pressed="{{keyHandler}}"></core-a11y-keys>
  </template>
  <script src="life-game.js"></script>
</polymer-element>